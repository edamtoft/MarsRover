<html>
<head>
  <link rel="stylesheet" href="marsrover.css">
</head>
<body>
  <h1>Mars Rovers</h1>

  <!-- Plateau -->

  <mars-plateau 
    id="plateau"
    data-scale="50"
    data-x-size="5"
    data-y-size="5"
    data-animation-duration="500">
  </mars-plateau>


  <!-- Inputs -->

  <pre>Commands:
L: turn left
R: turn right
M: move forward
N: [Keyboard only] Add new rover at 0 0 N
  </pre>
  <form id="commands-form">
  <textarea cols="50" rows="5" id="commands-input">5 5
1 2 N
LMLMLMLMM
3 3 E
MMRMMRMRRM</textarea>
  <br/>
  <button type="submit">Go</button>
  </form>



  <!-- Scripts -->

  <script src="webcomponents-lite.min.js"></script>
  <script src="marsrover.components.js"></script>
  <script>
  const plateau = document.getElementById("plateau");
  const commandsForm = document.getElementById("commands-form");
  const commandsInput = document.getElementById("commands-input");
  commandsForm.addEventListener("submit", e => {
    e.preventDefault();
    plateau.clear();
    plateau
      .execute(commandsInput.value)
      .then(rovers => alert(rovers.map(r => r.toString()).join("\n")));
  });
  </script>
</body>
</html>